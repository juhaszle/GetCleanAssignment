dat[1:10,]
forma=c("1X", "A9", "X5", "F4.0", "F4.0", "X5", "F4.2", "F4.2", "X5", "F4.2", "F4.2", "X5", "F4.2", "F4.2")
dat=read.fortran("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for", format=forma, skip=4)
dat[1:10,]
forma=c("1X", "A9", "X5", "F4.0", "F4.0", "X5", "F4.0", "F4.0", "X5", "F4.0", "F4.0", "X5", "F4.0", "F4.0")
dat=read.fortran("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for", format=forma, skip=4)
dat[1:10,]
sample(1:5)
sample(1:5)
sample(1:5)
sample(1:5)
sample(1:5)
?sample
?which
?rpois
lam=c(1,2)
rpois(10,lam)
rpois(10,1)
rpois(10,2)
fixed=c(F,F)
params=fixed
params
params[!fixed]
params[fixed]
params[fixed]
params[!fixed]
!fixed
p=c(4,3)
params
params=p
params
fixed=c(F,T)
params=fixed
params[!fixed]
params=p
params
params=fixed
params
params[!fixed]=p
params[!fixed]
fixed=c(T,F)
params=fixed
params[!fixed]
params[!fixed]=p
params
rm(params)
fixed=c(T,F)
params=fixed
params[!fixed]=p
params
params[!fixed]
rm(params)
params
fixed=c(F,T)
params=fixed
params
p
params[!fixed]=p
params
c(F,2)
q()
setwd("C:/Users/juhaszl/Desktop/johnsHopkins/gettingandCleaning/GettingandCleaningAssignment/UCI HAR Dataset")
xte=read.table("test/X_test.txt")
ste=read.table("test/subject_test.txt")
yte=read.table("test/y_test.txt")
xtr=read.table("train/X_train.txt")
str=read.table("train/subject_train.txt")
ytr=read.table("train/y_train.txt")
stt=rbind(str,ste)
xtt=rbind(xtr,xte)
ytt=rbind(ytr,yte)
namesTable= read.table("features.txt")
namesVect=as.vector(namesTable[,2])
namesVect
grep("mean", namesVect)
grepl("mean", namesVect)
sum(grepl("mean", namesVect))
sum(grepl("mean|std", namesVect))
grep("mean|std", namesVect)
namesVect[,grepl("mean", namesVect)]
namesVect[grepl("mean", namesVect)]
namesVect[grepl("mean()", namesVect)]
namesVect[grepl("mean()|std()", namesVect)]
namesVect[grepl("mean()|std()", namesVect)]
namesVect[grepl("mean\(\)|std\(\)", namesVect)]
namesVect[grepl("mean()|std()", namesVect)]
?grep
namesVect[grepl("mean()|std()", x=namesVect, fixed=T)]
namesVect[grepl("mean()|std()", x=namesVect )]
namesVect[grepl("mean(|std(", x=namesVect )]
namesVect[grepl("mean(\(\))|std()", x=namesVect )]
namesVect[grepl("mean(\()|std()", x=namesVect )]
namesVect[grepl("mean\\(\\)|std()", x=namesVect )]
grepl("mean\\(\\)|std()", x=namesVect ) & !grepl("mean()|std()", x=namesVect )
sum(grepl("mean\\(\\)|std()", x=namesVect ) & !grepl("mean()|std()", x=namesVect ))
grepl("mean\\(\\)|std()", x=namesVect ) & !(grepl("mean()|std()", x=namesVect ))
sum(grepl("mean\\(\\)|std()", x=namesVect ) & !(grepl("mean()|std()", x=namesVect )))
namesVect[grepl("mean\\(\\)|std()", x=namesVect )]
grepl("mean\\(\\)|std()", x=namesVect )
xte=read.table("test/X_test.txt")
ste=read.table("test/subject_test.txt")
yte=read.table("test/y_test.txt")
xtr=read.table("train/X_train.txt")
str=read.table("train/subject_train.txt")
ytr=read.table("train/y_train.txt")
stt=rbind(str,ste)
xtt=rbind(xtr,xte)
ytt=rbind(ytr,yte)
namesTable= read.table("features.txt")
namesVect=as.vector(namesTable[,2])
names(xtt)=namesVect
names(ytt)="activity"
names(stt)="subject"
al=read.table("activity_labels.txt")
ylevels=as.vector(al[,1])
ylabels=as.vector(al[,2])
ytt[,1]=factor(ytt[,1], levels=ylevels, labels=ylabels)
datatotal=cbind(stt, xtt, ytt)
index=  grepl("mean\\(\\)|std()", x=namesVect )
data1=cbind(datatotal["subject"], datatotal[index], datatotal["activity"])
data1[1,]
data1= datatotal[index]
data1[1,]
dim(data1)
index
names(datatotal)
names(datatotal)[index]
namesVector
namesVect
index
length(index)
dim(datatotal)
index[1:10,]
index[1:10]
names(datatotal[index])
dim(datatotal)
datatotal[,2:562]
data1=datatotal[,2:562][index]
names(data1)
data1=datatotal[,2:dim(datatotal)[1]][index]
data1=datatotal[,2:(dim(datatotal)[1])][index]
data1=datatotal[,2:(dim(datatotal)[1])][index]
(dim(datatotal)[1])
(dim(datatotal)[2])
dim(datatotal)
data1=datatotal[,2:dim(datatotal)[2]-1][index]
names(data1)
names(datatotal)
index
length(index)
data1=datatotal[, 2:dim(datatotal)[2]-1]
dim (data1)
dim(datatotal)[2]
dim(datatotal)[2]-1
data1=datatotal[, 2:562]
dim (data1)
data1=datatotal[, 2:(dim(datatotal)[2]-1)]
dim (data1)
data2=data1[index]
dim (data2)
names(data2)
data=cbind(datatotal["subject"], data2, datatotal["activity"])
dim(data)
xte=read.table("test/X_test.txt")
ste=read.table("test/subject_test.txt")
yte=read.table("test/y_test.txt")
xtr=read.table("train/X_train.txt")
str=read.table("train/subject_train.txt")
ytr=read.table("train/y_train.txt")
stt=rbind(str,ste)
xtt=rbind(xtr,xte)
ytt=rbind(ytr,yte)
namesTable= read.table("features.txt")
namesVect=as.vector(namesTable[,2])
names(xtt)=namesVect
names(ytt)="activity"
names(stt)="subject"
al=read.table("activity_labels.txt")
ylevels=as.vector(al[,1])
ylabels=as.vector(al[,2])
ytt[,1]=factor(ytt[,1], levels=ylevels, labels=ylabels)
datatotal=cbind(stt, xtt, ytt)
index=  grepl("mean\\(\\)|std()", x=namesVect )
data1=datatotal[, 2:(dim(datatotal)[2]-1)]
data2=data1[index]
data=cbind(datatotal["subject"], data2, datatotal["activity"])
names(data)
xte=read.table("test/X_test.txt")
ste=read.table("test/subject_test.txt")
yte=read.table("test/y_test.txt")
xtr=read.table("train/X_train.txt")
str=read.table("train/subject_train.txt")
ytr=read.table("train/y_train.txt")
stt=rbind(str,ste)
xtt=rbind(xtr,xte)
ytt=rbind(ytr,yte)
namesTable= read.table("features.txt")
namesVect=as.vector(namesTable[,2])
names(xtt)=namesVect
names(ytt)="activity"
names(stt)="subject"
al=read.table("activity_labels.txt")
ylevels=as.vector(al[,1])
ylabels=as.vector(al[,2])
ytt[,1]=factor(ytt[,1], levels=ylevels, labels=ylabels)
datatotal=cbind(stt, xtt, ytt)
index=  grepl("mean\\(\\)|std()", x=namesVect )
data1=datatotal[, 2:(dim(datatotal)[2]-1)]
data2=data1[index]
namesVect=names(data2)
namesVect2=names(data2)
namesVect2=names(data2)
namesVect2
sub("mean\\(\\)", "Mean", namesVect2)
namesVect2
namesVect2=sub("mean\\(\\)", "Mean", namesVect2)
namesVect2
namesVect2=sub("std\\(\\)", "Std", namesVect2)
namesVect2
namesVect2=gsub("-", "", namesVect2)
namesVect2
xte=read.table("test/X_test.txt")
ste=read.table("test/subject_test.txt")
yte=read.table("test/y_test.txt")
xtr=read.table("train/X_train.txt")
str=read.table("train/subject_train.txt")
ytr=read.table("train/y_train.txt")
stt=rbind(str,ste)
xtt=rbind(xtr,xte)
ytt=rbind(ytr,yte)
namesTable= read.table("features.txt")
namesVect=as.vector(namesTable[,2])
names(xtt)=namesVect
names(ytt)="activity"
names(stt)="subject"
al=read.table("activity_labels.txt")
ylevels=as.vector(al[,1])
ylabels=as.vector(al[,2])
ytt[,1]=factor(ytt[,1], levels=ylevels, labels=ylabels)
datatotal=cbind(stt, xtt, ytt)
index=  grepl("mean\\(\\)|std()", x=namesVect )
data1=datatotal[, 2:(dim(datatotal)[2]-1)]
data2=data1[index]
namesVect2=names(data2)
namesVect2=sub("mean\\(\\)", "Mean", namesVect2)
namesVect2=sub("std\\(\\)", "Std", namesVect2)
namesVect2=gsub("-", "", namesVect2)
names(data2)=namesVect2
data=cbind(datatotal["subject"], data2, datatotal["activity"])
names(data)
namesVect2
sub("^f", "freq", namesvect2)
sub("^f", "freq", namesVect2)
namesVect2=sub("^f", "freq", namesVect2)
namesVect2=sub("^t", "time", namesVect2)
namesVect2
xte=read.table("test/X_test.txt")
ste=read.table("test/subject_test.txt")
yte=read.table("test/y_test.txt")
xtr=read.table("train/X_train.txt")
str=read.table("train/subject_train.txt")
ytr=read.table("train/y_train.txt")
stt=rbind(str,ste)
xtt=rbind(xtr,xte)
ytt=rbind(ytr,yte)
namesTable= read.table("features.txt")
namesVect=as.vector(namesTable[,2])
names(xtt)=namesVect
names(ytt)="activity"
names(stt)="subject"
al=read.table("activity_labels.txt")
ylevels=as.vector(al[,1])
ylabels=as.vector(al[,2])
ytt[,1]=factor(ytt[,1], levels=ylevels, labels=ylabels)
datatotal=cbind(stt, xtt, ytt)
index=  grepl("mean\\(\\)|std()", x=namesVect )
data1=datatotal[, 2:(dim(datatotal)[2]-1)]
data2=data1[index]
namesVect2=names(data2)
namesVect2=sub("mean\\(\\)", "Mean", namesVect2)
namesVect2=sub("std\\(\\)", "Std", namesVect2)
namesVect2=gsub("-", "", namesVect2)
namesVect2=sub("^f", "freq", namesVect2)
namesVect2=sub("^t", "time", namesVect2)
names(data2)=namesVect2
data=cbind(datatotal["subject"], data2, datatotal["activity"])
names(data)
data[1:10,]
table(data$activity)
names(data)
rm(list=ls())
library(reshape2)
head(mtcars)
mtcars$carname=rownames(mtcars)
head(mtcars)
carMelt=melt(mtcars, id=c("carname", "gear", "cyl"), measure.vars=c("mpg", "hp"))
cylData=dcast(carMelt, cyl~ variable)
cylData
cylData=dcast(carMelt, cyl~ variable, mean)
cylData
?tapply
?tapply
?lapply
?tapply
tapply()
xte=read.table("test/X_test.txt")
ste=read.table("test/subject_test.txt")
yte=read.table("test/y_test.txt")
xtr=read.table("train/X_train.txt")
str=read.table("train/subject_train.txt")
ytr=read.table("train/y_train.txt")
stt=rbind(str,ste)
xtt=rbind(xtr,xte)
ytt=rbind(ytr,yte)
namesTable= read.table("features.txt")
namesVect=as.vector(namesTable[,2])
names(xtt)=namesVect
names(ytt)="activity"
names(stt)="subject"
al=read.table("activity_labels.txt")
ylevels=as.vector(al[,1])
ylabels=as.vector(al[,2])
ytt[,1]=factor(ytt[,1], levels=ylevels, labels=ylabels)
datatotal=cbind(stt, xtt, ytt)
index=  grepl("mean\\(\\)|std()", x=namesVect )
data1=datatotal[, 2:(dim(datatotal)[2]-1)]
data2=data1[index]
namesVect2=names(data2)
namesVect2=sub("mean\\(\\)", "Mean", namesVect2)
namesVect2=sub("std\\(\\)", "Std", namesVect2)
namesVect2=gsub("-", "", namesVect2)
namesVect2=sub("^f", "freq", namesVect2)
namesVect2=sub("^t", "time", namesVect2)
names(data2)=namesVect2
data=cbind(datatotal["subject"], data2, datatotal["activity"])
tapply(data, data$activity, mean)
dim(data)
length(data$activity)
tapply(data[,2], data$activity, mean)
tapply(data, data$activity, mean)
?apply
00000000
?apply
apply(data, c(1,2), mean)
?aggregate
aggregate(data, by=c("subject", "activity"), mean)
aggregate(data, by=list("subject", "activity"), mean)
aggregate(data, by=list(data$subject, data$activity), mean)
dim(data)
aggregate(data[,2:67], by=list(data$subject, data$activity), mean)
names(aggregate(data[,2:67], by=list(data$subject, data$activity), mean))
names(aggregate(data[,2:67], by=list(subject=data$subject, data=data$activity), mean))
names(aggregate(data[,2:67], by=list(subject=data$subject, data=data$activity), mean))[1:10,]
aggregate(data[,2:67], by=list(subject=data$subject, data=data$activity), mean)[1:10,]
aggdata=aggregate(data[,2:67], by=list(subject=data$subject, data=data$activity), mean)
dim(aggdata)
names(aggdata)
aggdata=aggregate(data[,2:67], by=list(subject=data$subject, activity=data$activity), mean)
names(aggdata)
aggdata[,1:2]
table(aggdata[,1:2])
table(data[,c("subject", "activity")])
aggdata=aggregate(data[,2:(dim(data)[2]-1)], by=list(subject=data$subject, activity=data$activity), mean)
dim(aggdata)
table(data[,c("subject", "activity")])
table(aggdata[,c("subject", "activity")])
xte=read.table("test/X_test.txt")
ste=read.table("test/subject_test.txt")
yte=read.table("test/y_test.txt")
xtr=read.table("train/X_train.txt")
str=read.table("train/subject_train.txt")
ytr=read.table("train/y_train.txt")
stt=rbind(str,ste)
xtt=rbind(xtr,xte)
ytt=rbind(ytr,yte)
namesTable= read.table("features.txt")
namesVect=as.vector(namesTable[,2])
names(xtt)=namesVect
names(ytt)="activity"
names(stt)="subject"
al=read.table("activity_labels.txt")
ylevels=as.vector(al[,1])
ylabels=as.vector(al[,2])
ytt[,1]=factor(ytt[,1], levels=ylevels, labels=ylabels)
datatotal=cbind(stt, xtt, ytt)
index=  grepl("mean\\(\\)|std()", x=namesVect )
data1=datatotal[, 2:(dim(datatotal)[2]-1)]
data2=data1[index]
namesVect2=names(data2)
namesVect2=sub("mean\\(\\)", "Mean", namesVect2)
namesVect2=sub("std\\(\\)", "Std", namesVect2)
namesVect2=gsub("-", "", namesVect2)
namesVect2=sub("^f", "freq", namesVect2)
namesVect2=sub("^t", "time", namesVect2)
names(data2)=namesVect2
data=cbind(datatotal["subject"], data2, datatotal["activity"])
aggdata=aggregate(data[,2:(dim(data)[2]-1)], by=list(subject=data$subject, activity=data$activity), mean)
dim(aggdata)
fix(aggdata)
## datafiles unzipped to working directory
# reading subject/x/y training and test data to dataframes
xte=read.table("test/X_test.txt")
ste=read.table("test/subject_test.txt")
yte=read.table("test/y_test.txt")
xtr=read.table("train/X_train.txt")
str=read.table("train/subject_train.txt")
ytr=read.table("train/y_train.txt")
# merging test and training data (subject/x/y separatelly)
stt=rbind(str,ste)
xtt=rbind(xtr,xte)
ytt=rbind(ytr,yte)
# reading featurenames
namesTable= read.table("features.txt")
namesVect=as.vector(namesTable[,2])
# naming x, y, and subject frame colums
names(xtt)=namesVect
names(ytt)="activity"
names(stt)="subject"
# labelling y ("activity") values and setting as factor
al=read.table("activity_labels.txt")
ylevels=as.vector(al[,1])
ylabels=as.vector(al[,2])
ytt[,1]=factor(ytt[,1], levels=ylevels, labels=ylabels)
#merging all colums
datatotal=cbind(stt, xtt, ytt)
# selecting names containing "mean()" or "std()"
index=  grepl("mean\\(\\)|std()", x=namesVect )
## subsetting x data
data1=datatotal[, 2:(dim(datatotal)[2]-1)]
## subsetting x data colums with names containing "mean()" or "std()"
data2=data1[index]
# making x colums names more tidy
# changing mean() -> Mean, std()-> Std
# diccarding -
# changing f -> freq, t -> time
namesVect2=names(data2)
namesVect2=sub("mean\\(\\)", "Mean", namesVect2)
namesVect2=sub("std\\(\\)", "Std", namesVect2)
namesVect2=gsub("-", "", namesVect2)
namesVect2=sub("^f", "freq", namesVect2)
namesVect2=sub("^t", "time", namesVect2)
names(data2)=namesVect2
# remerging subject, new x, and activity colums
data=cbind(datatotal["subject"], data2, datatotal["activity"])
# creating a second, independent tidy data set with the average of each
# variable for each activity and each subject.
aggdata=aggregate(data[,2:(dim(data)[2]-1)], by=list(subject=data$subject, activity=data$activity), mean)
?write.data
?write.file
?write
write(aggdata, file="aggregatedData.R")
str(aggdata)
write(aggdata, file="aggregatedData.R", append=F)
write(aggdata, file="aggregatedData.R" )
write(aggdata, file="aggregatedData.txt" )
write(aggdata, file="aggregatedData.cvs" )
write.table(aggdata, file="aggregatedData.txt")
p2=read.table("aggregatedData.txt")
fix(p2)
dim(p2)
rm(list=ls())
## datafiles unzipped to working directory
# reading subject/x/y training and test data to dataframes
xte=read.table("test/X_test.txt")
ste=read.table("test/subject_test.txt")
yte=read.table("test/y_test.txt")
xtr=read.table("train/X_train.txt")
str=read.table("train/subject_train.txt")
ytr=read.table("train/y_train.txt")
# merging test and training data (subject/x/y separatelly)
stt=rbind(str,ste)
xtt=rbind(xtr,xte)
ytt=rbind(ytr,yte)
# reading featurenames
namesTable= read.table("features.txt")
namesVect=as.vector(namesTable[,2])
# naming x, y, and subject frame colums
names(xtt)=namesVect
names(ytt)="activity"
names(stt)="subject"
# labelling y ("activity") values and setting as factor
al=read.table("activity_labels.txt")
ylevels=as.vector(al[,1])
ylabels=as.vector(al[,2])
ytt[,1]=factor(ytt[,1], levels=ylevels, labels=ylabels)
#merging all colums
datatotal=cbind(stt, xtt, ytt)
# selecting names containing "mean()" or "std()"
index=  grepl("mean\\(\\)|std()", x=namesVect )
## subsetting x data
data1=datatotal[, 2:(dim(datatotal)[2]-1)]
## subsetting x data colums with names containing "mean()" or "std()"
data2=data1[index]
# making x colums names more tidy
# changing mean() -> Mean, std()-> Std
# diccarding -
# changing f -> freq, t -> time
namesVect2=names(data2)
namesVect2=sub("mean\\(\\)", "Mean", namesVect2)
namesVect2=sub("std\\(\\)", "Std", namesVect2)
namesVect2=gsub("-", "", namesVect2)
namesVect2=sub("^f", "freq", namesVect2)
namesVect2=sub("^t", "time", namesVect2)
names(data2)=namesVect2
# remerging subject, new x, and activity colums
data=cbind(datatotal["subject"], data2, datatotal["activity"])
# creating a second, independent tidy data set with the average of each
# variable for each activity and each subject.
aggdata=aggregate(data[,2:(dim(data)[2]-1)], by=list(subject=data$subject, activity=data$activity), mean)
# writing aggregated data (aggdata) to file
write.table(aggdata, file="aggregatedData.txt")
q()
